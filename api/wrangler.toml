name = "gestao-api"
main = "src/index.worker.ts"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

# Hyperdrive (PostgreSQL). Rodar: npm run hyperdrive:create
# Depois colar aqui o id exibido e descomentar as 3 linhas abaixo.
# [[hyperdrive]]
# binding = "HYPERDRIVE"
# id = "<COLE_O_ID_AQUI>"

[vars]
FIXED_AUTH = "true"
FIXED_AUTH_EMAIL = "admin@saldao.local"
CORS_ORIGIN = "https://gestao.saldaomoveisjerusalem.com.br"
FRONTEND_URL = "https://gestao.saldaomoveisjerusalem.com.br"
SEND_CONFIRMATION_EMAIL = "false"
GMAIL_USER = ""
CONTACT_EMAIL = ""

# Secrets (definir via CLI: wrangler secret put <NOME>)
# JWT_SECRET, FIXED_AUTH_PASSWORD, GMAIL_APP_PASSWORD, OPENAI_API_KEY
# Opcionais (se usar Supabase auth): SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY

[env.production]
vars = { CORS_ORIGIN = "https://gestao.saldaomoveisjerusalem.com.br", FRONTEND_URL = "https://gestao.saldaomoveisjerusalem.com.br" }
# routes = [{ pattern = "api.seudominio.com/*", zone_name = "seudominio.com" }]
